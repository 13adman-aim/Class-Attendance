<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<head>
  <meta charset="UTF-8">
  <title>Generate Class QR Code</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-image: radial-gradient(circle, rgb(243, 243, 251), rgb(19, 19, 17));
      font-family: Arial, sans-serif;
      color: rgb(17, 16, 16);
      padding-bottom: 100px;
    }

    nav {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      padding: 10px 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .logo {
      height: 50px;
      border-radius: 100px;
    }

    .toggle-btn {
      display: none;
      font-size: 24px;
      cursor: pointer;
      background: none;
      border: none;
      color: white;
    }

    .nav-links {
      display: flex;
      gap: 15px;
      list-style: none;
    }

    .nav-links a {
      text-decoration: none;
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    .nav-links a:hover {
      background-color: #0066cc;
    }

    @media (max-width: 768px) {
      .nav-links {
        display: none;
        flex-direction: column;
        background-color: #0040805b;
        position: absolute;
        top: 60px;
        left: 0;
        width: 100%;
        padding: 10px 0;
      }

      .nav-links.active {
        display: flex;
      }

      .toggle-btn {
        display: block;
      }
    }

    .form-container {
      max-width: 500px;
      width: 90%; 
      margin: 40px auto;
      padding: 20px;
      background: rgba(255, 255, 255, 0);
      border-radius: 40px;
      box-shadow: 0 0 20px rgb(235, 200, 2), 0 0 40px rgb(228, 194, 4);
      animation: glow-border 1.5s infinite alternate;
    }

    @keyframes glow-border {
      100% { box-shadow: 0 0 10px; }
      50% { box-shadow: none; }
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    input, select, button {
      padding: 10px;
      width: 100%;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    .b{
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }

    .b:hover {
      background-color: #0056b3;
    }

    #idCard {
      display: none;
      max-width: 500px;
      margin: 40px auto;
      padding: 20px;
      background: #ffffff24;
      border: 2px solid black;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 0 10px #aaa;
      color: rgb(0, 0, 0);
      font-weight: bolder;
    }

    #idCard h3 {
      margin-bottom: 20px;
    }

    .idRow {
      text-align: left;
      font-weight: bold;
      margin: 10px 0;
    }

    .bold-course {
      font-weight: bold;
      text-transform: uppercase;
      font-size: 18px;
    }

    #qrcode {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      overflow: auto;
    }

    @media print {
      body > *:not(#idCard) {
        display: none;
      }
      #idCard {
        display: block;
        box-shadow: none;
      }
    }
  </style>
</head>
<body>
  <nav>
    <img class="logo-main scale-with-grid " src="https://fedpolel.edu.ng/wp-content/uploads/2021/05/logo-1.png" data-retina=""alt="Federal Polytechnic Ile-Oluji Logo"  class="logo" data-height="67"  data-no-retina="">
    <button class="toggle-btn" onclick="toggleMenu()">â˜°</button>
    <ul class="nav-links" id="navLinks">
      <li><a href="Home.html">HOME</a></li>
      <li><a href="Lecturerlogin.html">LECTURER</a></li>
      <li><a href="Studentlogin.html">STUDENT</a></li>
      <li><a href="index3.html">RECORD</a></li>
    </ul>
  </nav>

  <div class="form-container">
    <h2>Generate Class Attendance QR Code</h2>

    <div class="form-group">
      <label for="course">Course Code</label>
      <input type="text" id="course" placeholder="e.g., CSC 201">
    </div>

    <div class="form-group">
      <label for="title">Course Title</label>
      <input type="text" id="title" placeholder="e.g., Data Structures">
    </div>

    <div class="form-group">
      <label for="time">Class Time</label>
      <input type="time" id="time">
    </div>

    <div class="form-group">
      <label for="date">Class Date</label>
      <input type="date" id="date">
    </div>

    <div class="form-group">
      <label for="session">Session/Level</label>
      <select id="session">
        <option value="ND1">ND1</option>
        <option value="ND2">ND2</option>
        <option value="HND1">HND1</option>
        <option value="HND2">HND2</option>
      </select>
    </div>

    <div class="form-group">
      <label for="lecturer">Lecturer Name</label>
      <input type="text" id="lecturer" placeholder="e.g., Mr. Ayodele">
    </div>

    <button class="b" onclick="generateQRCode()">Generate QR Code</button>
  </div>

  <div id="idCard">
    <h3>Federal Polytechnic Ile-Oluji</h3>
    <div class="idRow">Course Code: <span id="displayCourse"></span></div>
    <div class="idRow">Course Title: <span class="bold-course" id="displayTitle"></span></div>
    <div class="idRow">Class Time: <span id="displayTime"></span></div>
    <div class="idRow">Class Date: <span id="displayDate"></span></div>
    <div class="idRow">Session: <span id="displaySession"></span></div>
    <div class="idRow">Lecturer: <span id="displayLecturer"></span></div>
    <div id="qrcode"></div>
    <br>
    <button onclick="window.print()">Print</button>
  </div>

  <script>
    function toggleMenu() {
      const navLinks = document.getElementById("navLinks");
      navLinks.classList.toggle("active");
    }

    function getDayName(dateStr) {
      const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      const date = new Date(dateStr);
      return days[date.getDay()];
    }

    function generateQRCode() {
      const course = document.getElementById('course').value.trim();
      const title = document.getElementById('title').value.trim();
      const time = document.getElementById('time').value;
      const date = document.getElementById('date').value;
      const session = document.getElementById('session').value;
      const lecturer = document.getElementById('lecturer').value.trim();

      if (!course || !title || !time || !date || !session || !lecturer) {
        alert("Please fill in all fields.");
        return;
      }

      const attendanceId = `${course.toLowerCase().replace(/\s+/g, '')}-${date.replace(/-/g, '')}-${time.replace(':', '')}`;

      const qrData = JSON.stringify({
        course: course,
        title: title,
        date: date,
        time: time,
        lecturer: lecturer,
        session: session,
        attendance_id: attendanceId
      });

      document.getElementById('displayCourse').textContent = course;
      document.getElementById('displayTitle').textContent = title;
      document.getElementById('displayTime').textContent = time;

      const dayName = getDayName(date);
      document.getElementById('displayDate').textContent = `${dayName}, ${date}`;

      document.getElementById('displaySession').textContent = session;
      document.getElementById('displayLecturer').textContent = lecturer;

      document.getElementById('qrcode').innerHTML = "";
      new QRCode(document.getElementById('qrcode'), {
        text: qrData,
        width: 256,
        height: 256
      });

      document.getElementById('idCard').style.display = 'block';
    }
  </script>
</body>
</html>
